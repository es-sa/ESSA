{"version":3,"file":"main.js","sources":["../lib/js/es-sa.ts"],"sourcesContent":["interface ESSAObj {\n  saNodes: HTMLElement[];\n  threshold: number;\n  setThreshold: (threshold: string | number) => void;\n  intersection: () => void;\n  init: (threshold?: 0 | 0.1 | 0.2 | 0.3 | 0.4 | 0.5 | 0.6 | 0.7 | 0.8 | 0.9 | 1) => void;\n}\n\nexport const ESSA: ESSAObj = {\n  /** 교차점을 지나는 대상 요소들을 저장할 NodeList */\n  saNodes: [],\n  /** Scroll 위치와 대상 요소의 교차점을 판단하는 기준값 */\n  threshold: 0.1,\n  /** threshold 값을 설정하는 함수 */\n  setThreshold: function (threshold) {\n    if (typeof threshold === 'string') {\n      threshold = threshold.trim();\n      if (threshold === '') {\n        console.warn('threshold value is empty, using default value 0.1');\n        threshold = 0.1;\n      }\n      if (!isFinite(Number(threshold))) {\n        console.warn(`invalid threshold value \"${threshold}\", using default value 0.1`);\n        threshold = 0.1;\n      }\n      threshold = Number(threshold);\n    }\n    if (typeof threshold !== 'number') {\n      console.warn(`invalid threshold value \"${threshold}\", using default value 0.1`);\n      threshold = 0.1;\n    }\n    if (threshold > 1) {\n      console.warn(\n        `threshold value \"${threshold}\" cannot be greater than 1, using maximum value 1`,\n      );\n      threshold = 1;\n    } else if (threshold < 0) {\n      console.warn(`threshold value \"${threshold}\" cannot be less than 0, using minimum value 0`);\n      threshold = 0;\n    }\n\n    ESSA.threshold = threshold;\n  },\n  /** intersection observer 등록 함수 */\n  intersection: function () {\n    if (ESSA.saNodes && ESSA.saNodes.length) {\n      for (const saNode of ESSA.saNodes) {\n        io.observe(saNode);\n      }\n    }\n  },\n  /**\n   * 플러그인 초기화 함수\n   * @threshold: Scroll 위치와 대상 요소의 교차점을 판단하는 기준값\n   * */\n  init: function (threshold) {\n    if (!ESSA.saNodes || ESSA.saNodes.length === 0) {\n      throw new Error('No matching elements found');\n    }\n    if (threshold !== undefined) {\n      ESSA.setThreshold(threshold);\n    }\n    ESSA.intersection();\n  },\n};\n/** js Observer API 커스텀 함수 */\nconst io = new IntersectionObserver(\n  (nodes) => {\n    nodes.forEach((node) => {\n      const target = node.target;\n      if (!(target instanceof HTMLDivElement)) return false;\n      /** 애니메이션을 한 번만 실행할 것인지 여부 */\n      const once = target.dataset.saOnce !== 'true';\n      if (once) {\n        if (node.isIntersecting) {\n          target.classList.add('saShow'); // 애니메이션 클래스 추가\n        } else if (!node.isIntersecting && target.classList.contains('saShow')) {\n          target.classList.remove('saShow'); // 애니메이션 클래스 제거\n        }\n      } else {\n        if (node.isIntersecting) {\n          target.classList.add('saShow'); // 애니메이션 클래스 추가\n          io.unobserve(target); // 교차점 감시 중지\n        }\n      }\n    });\n  },\n  {\n    threshold: ESSA.threshold, // 기준값 설정\n  },\n);\n"],"names":[],"mappings":"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"}